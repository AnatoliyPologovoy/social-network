"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[229],{7229:function(t,e,s){s.r(e),s.d(e,{default:function(){return Ft}});var r,a,n=s(6407),o=s(7375),i=s(8489),l=s(7853),c=s(4531),u=s(8932),p=s(2587),d=s(2791),m={main_img:"profile_main_img__9LUO6"},f={personData:"personData_personData__X-5e9",imgAvatar:"personData_imgAvatar__G1ZlI",name:"personData_name__hx3Ge",inputFile:"personData_inputFile__1ubIr",inputSubmit:"personData_inputSubmit__ncu8H",inputFileLabel:"personData_inputFileLabel__AV2sF",updatePhotoIcon:"personData_updatePhotoIcon__6Rv7v",profileWrapper:"personData_profileWrapper__AWzGI",status:"personData_status__YouMa",statusIcon:"personData_statusIcon__MTiKl",aboutMeWrapper:"personData_aboutMeWrapper__m1Z+i",aboutMeIcon:"personData_aboutMeIcon__QntUZ",contactsValue:"personData_contactsValue__oHazj",contacts:"personData_contacts__D-fkI",profileFormItem:"personData_profileFormItem__9YilC",contactsWrapper:"personData_contactsWrapper__r1jgk"},h=["title","titleId"];function v(){return v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},v.apply(this,arguments)}function j(t,e){if(null==t)return{};var s,r,a=function(t,e){if(null==t)return{};var s,r,a={},n=Object.keys(t);for(r=0;r<n.length;r++)s=n[r],e.indexOf(s)>=0||(a[s]=t[s]);return a}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(r=0;r<n.length;r++)s=n[r],e.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(t,s)&&(a[s]=t[s])}return a}function g(t,e){var s=t.title,n=t.titleId,o=j(t,h);return d.createElement("svg",v({viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":n},o),s?d.createElement("title",{id:n},s):null,r||(r=d.createElement("path",{d:"M834.3 705.7c0 82.2-66.8 149-149 149H325.9c-82.2 0-149-66.8-149-149V346.4c0-82.2 66.8-149 149-149h129.8v-42.7H325.9c-105.7 0-191.7 86-191.7 191.7v359.3c0 105.7 86 191.7 191.7 191.7h359.3c105.7 0 191.7-86 191.7-191.7V575.9h-42.7v129.8z"})),a||(a=d.createElement("path",{d:"M889.7 163.4c-22.9-22.9-53-34.4-83.1-34.4s-60.1 11.5-83.1 34.4L312 574.9c-16.9 16.9-27.9 38.8-31.2 62.5l-19 132.8c-1.6 11.4 7.3 21.3 18.4 21.3 0.9 0 1.8-0.1 2.7-0.2l132.8-19c23.7-3.4 45.6-14.3 62.5-31.2l411.5-411.5c45.9-45.9 45.9-120.3 0-166.2zM362 585.3L710.3 237 816 342.8 467.8 691.1 362 585.3zM409.7 730l-101.1 14.4L323 643.3c1.4-9.5 4.8-18.7 9.9-26.7L436.3 720c-8 5.2-17.1 8.7-26.6 10z m449.8-430.7l-13.3 13.3-105.7-105.8 13.3-13.3c14.1-14.1 32.9-21.9 52.9-21.9s38.8 7.8 52.9 21.9c29.1 29.2 29.1 76.7-0.1 105.8z"})))}var _,x,b=d.forwardRef(g),y=(s.p,["title","titleId"]);function I(){return I=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},I.apply(this,arguments)}function P(t,e){if(null==t)return{};var s,r,a=function(t,e){if(null==t)return{};var s,r,a={},n=Object.keys(t);for(r=0;r<n.length;r++)s=n[r],e.indexOf(s)>=0||(a[s]=t[s]);return a}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(r=0;r<n.length;r++)s=n[r],e.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(t,s)&&(a[s]=t[s])}return a}function N(t,e){var s=t.title,r=t.titleId,a=P(t,y);return d.createElement("svg",I({viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":r},a),s?d.createElement("title",{id:r},s):null,_||(_=d.createElement("path",{d:"M512 170.837c188.203 0      341.333 153.131 341.333 341.333s-153.131       341.333-341.333 341.333-341.333-153.131-341.333-341.333        153.131-341.333 341.333-341.333zM512 85.504c-235.648         0-426.667 191.019-426.667 426.667s191.019 426.667          426.667 426.667c235.648 0 426.667-191.019           426.667-426.667s-191.019-426.667-426.667-426.667l0 0z"})),x||(x=d.createElement("path",{d:"M473.728      747.563l-205.227-205.227       60.331-60.331 136.107 136.064        230.229-302.421 67.925 51.669z"})))}var k,M,w=d.forwardRef(N),D=(s.p,s(184)),O=function(t){(0,u.Z)(s,t);var e=(0,p.Z)(s);function s(){var t;(0,l.Z)(this,s);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))).state={isEditMode:!1,input:t.props.status},t.handlerClickButtonStatus=function(){t.state.isEditMode?(t.props.updateStatus(t.state.input),t.toggleMode()):t.toggleMode()},t}return(0,c.Z)(s,[{key:"toggleMode",value:function(){this.setState({isEditMode:!this.state.isEditMode})}},{key:"changeInput",value:function(t){this.setState({input:t.currentTarget.value})}},{key:"componentDidUpdate",value:function(t,e){this.props.status!==t.status&&this.setState({input:this.props.status})}},{key:"render",value:function(){var t=this.changeInput.bind(this),e=(0,D.jsx)("span",{children:this.state.input}),s=(0,D.jsx)("input",{onChange:t,type:"text",value:this.state.input,autoFocus:!0}),r=this.state.isEditMode?s:e;return(0,D.jsxs)("div",{className:f.status,children:[r,this.props.isHostUser&&(this.state.isEditMode?(0,D.jsx)(w,{className:f.statusIcon,onClick:this.handlerClickButtonStatus}):(0,D.jsx)(b,{className:f.statusIcon,onClick:this.handlerClickButtonStatus}))]})}}]),s}(d.Component),S=s(9755),Z=["title","titleId"];function E(){return E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},E.apply(this,arguments)}function F(t,e){if(null==t)return{};var s,r,a=function(t,e){if(null==t)return{};var s,r,a={},n=Object.keys(t);for(r=0;r<n.length;r++)s=n[r],e.indexOf(s)>=0||(a[s]=t[s]);return a}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(r=0;r<n.length;r++)s=n[r],e.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(t,s)&&(a[s]=t[s])}return a}function C(t,e){var s=t.title,r=t.titleId,a=F(t,Z);return d.createElement("svg",E({viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":r},a),s?d.createElement("title",{id:r},s):null,k||(k=d.createElement("path",{d:"M511.372 64.548c-247.628 0-448.369 200.319-448.369 447.426S263.744 959.4 511.372 959.4s448.369-200.32 448.369-447.426S758.999 64.548 511.372 64.548z m-0.203 823.564c-207.318 0-375.382-167.71-375.382-374.592s168.064-374.592 375.382-374.592 375.382 167.71 375.382 374.592-168.064 374.592-375.382 374.592z"})),M||(M=d.createElement("path",{d:"M720.065 463.455L512.233 256.026l-0.069-0.073-0.002 0.002-0.003-0.002-0.04 0.04-0.041-0.04-211.101 210.698 45.19 45.137 134.14-133.884-0.047 389.898h64.013l0.047-389.511 130.555 130.302z"})))}var A=d.forwardRef(C),U=(s.p,s(3430)),z=function(t){var e=t.currentProfile,s=t.isHostUser,r=t.toggleEditMode;return(0,D.jsxs)(D.Fragment,{children:[s&&(0,D.jsx)(b,{className:f.statusIcon+" "+f.aboutMeIcon,onClick:r}),(0,D.jsxs)("div",{children:[(0,D.jsx)("b",{children:"About me:"}),(0,D.jsx)("span",{children:e.aboutMe})]}),e.lookingForAJob&&(0,D.jsxs)("div",{children:[(0,D.jsx)("b",{children:"Looking for a job:"}),(0,D.jsx)("span",{children:e.lookingForAJobDescription})]}),(0,D.jsx)("div",{className:f.contacts,children:Object.keys(e.contacts).map((function(t,s){var r=e.contacts[t]||"#";return r.includes("http")||"#"===r||(r="http://"+r),(0,D.jsxs)("div",{className:f.contactsItem,children:[(0,D.jsxs)("b",{children:[t,":"]}),(0,D.jsx)("a",{className:f.contactsValue,href:r,target:"_blank",children:e.contacts[t]})]},s)}))})]})},H=s(6139),L=s(704),W=s(6826),V=function(t){var e=t.currentProfile,s=t.toggleEditMode,r=(0,o.I0)(),a=(0,i.Z)({},e);return delete a.photos,(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(B,{onSubmit:function(t){console.log(t),r((0,n.DK)(t)),s()},currentProfile:e,initialValues:a})})},B=(0,L.Z)({form:"editProfile"})((function(t){return(0,D.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,D.jsx)("label",{htmlFor:"submit",children:(0,D.jsx)(w,{className:f.statusIcon+" "+f.aboutMeIcon})}),(0,D.jsx)("input",{type:"submit",id:"submit",className:f.inputSubmit}),(0,D.jsxs)("div",{className:f.profileFormItem,children:[(0,D.jsx)("b",{children:"About me:"}),(0,D.jsx)(H.Z,{name:"aboutMe",placeholder:"About me",component:W.t,tag:"input",validate:[]})]}),(0,D.jsxs)("div",{className:f.profileFormItem,children:[(0,D.jsx)("b",{children:"Full name:"}),(0,D.jsx)(H.Z,{name:"fullName",placeholder:"Full name",component:W.t,tag:"input",validate:[]})]}),(0,D.jsxs)("div",{className:f.profileFormItem,children:[(0,D.jsx)("b",{children:"Looking for a job:"}),(0,D.jsx)(H.Z,{name:"lookingForAJob",component:"input",type:"checkbox"})]}),(0,D.jsx)("div",{children:(0,D.jsx)(H.Z,{name:"lookingForAJobDescription",placeholder:"Looking for a job description",component:W.t,tag:"textarea",validate:[]})}),(0,D.jsx)("div",{className:f.contactsWrapper,children:Object.keys(t.currentProfile.contacts).map((function(t,e){return(0,D.jsxs)("div",{className:f.profileFormItem,children:[(0,D.jsxs)("b",{children:[t,":"]}),(0,D.jsx)(H.Z,{name:"contacts."+t,placeholder:t,component:W.t,tag:"input",validate:[],size:"small"})]},e)}))})]})})),R=function(t){var e=t.currentProfile,s=t.isHostUser,r=(0,d.useState)(!1),a=(0,U.Z)(r,2),n=a[0],o=a[1],i=function(){return o((function(t){return!t}))};return(0,D.jsx)("div",{className:f.aboutMeWrapper,children:n?(0,D.jsx)(V,{currentProfile:e,toggleEditMode:i}):(0,D.jsx)(z,{currentProfile:e,isHostUser:s,toggleEditMode:i})})},T=function(t){var e=t.isHostUser,s=t.profileStatus,r=t.currentProfile,a=(0,o.I0)(),i=r.photos.large?r.photos.large:S,l=r?r.fullName:"null",c=(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("input",{type:"file",className:f.inputFile,value:"",id:"input-file",onChange:function(t){t.currentTarget.files&&a((0,n.EC)(t.currentTarget.files[0]))}}),(0,D.jsx)("label",{htmlFor:"input-file",className:f.inputFileLabel,children:(0,D.jsx)(A,{className:f.updatePhotoIcon})})]});return(0,D.jsxs)("div",{className:f.personData,children:[(0,D.jsx)("img",{className:f.imgAvatar,src:i,alt:"\u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f "+(null===r||void 0===r?void 0:r.fullName)}),e&&c,(0,D.jsxs)("div",{className:f.profileWrapper,children:[(0,D.jsx)("h2",{className:f.name,children:l}),(0,D.jsx)(O,{isHostUser:e,status:s,updateStatus:function(t){a((0,n.fC)(t))}}),(0,D.jsx)(R,{currentProfile:r,isHostUser:e})]})]})},J="Posts_postsList__gIQsZ",Y="Posts_postItem__XmToi",G="Posts_postItem_mainWrapper__jdJju",Q="Posts_postItem_avatarNameWrapper__P5V3D",K="Posts_postItem_avatar__VUF0R",X="Posts_postItem_userName__YWbMk",$="Posts_postItem_text__SDMVZ",q="Posts_postItem_likes__Qo-Yy",tt="Posts_likesIcon__v0b+V",et="Posts_likesCount__TbA7F",st=s(7460),rt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"}}]},name:"heart",theme:"filled"},at=s(9376),nt=function(t,e){return d.createElement(at.Z,(0,st.Z)({},t,{ref:e,icon:rt}))};var ot=d.forwardRef(nt),it={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]},name:"heart",theme:"outlined"},lt=function(t,e){return d.createElement(at.Z,(0,st.Z)({},t,{ref:e,icon:it}))};var ct=d.forwardRef(lt);function ut(t,e){return function(s){return(0,D.jsx)(t,(0,i.Z)((0,i.Z)({},s),{},{className:tt,onClick:e}))}}var pt=function(t){var e=t.likesCount,s=t.isOnClick,r=t.postId,a=(0,o.I0)(),i=function(){a((0,n.Sd)(r))},l=ut(ot,i),c=ut(ct,i);return(0,D.jsxs)("div",{className:q,children:[s?(0,D.jsx)(l,{rev:null}):(0,D.jsx)(c,{rev:null}),(0,D.jsx)("span",{className:et,children:e})]})},dt=function(t){var e=t.smallPhoto||S,s=t.postsData.map((function(s){return(0,D.jsxs)("li",{className:Y,children:[(0,D.jsxs)("div",{className:G,children:[(0,D.jsxs)("div",{className:Q,children:[(0,D.jsx)("b",{className:X,children:t.userName}),(0,D.jsx)("img",{src:e,alt:"",className:K})]}),(0,D.jsx)("span",{className:$,children:s.text})]}),(0,D.jsx)(pt,{likesCount:s.likes,isOnClick:s.isOnClick,postId:s.id})]},s.id.toString())}));return(0,D.jsx)("ul",{className:J,children:s})},mt="addpost_wrapper__rWh9N",ft="addpost_textarea__DAnMA",ht="addpost_btnSend__xhaIc",vt=s(2381),jt=s(572),gt=s(9235),_t=s.n(gt),xt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"},bt=function(t,e){return d.createElement(at.Z,(0,st.Z)({},t,{ref:e,icon:xt}))};var yt=d.forwardRef(bt),It=(0,jt.DT)(50),Pt=(0,L.Z)({form:"profileAddPost"})((function(t){return(0,D.jsxs)("form",{onSubmit:function(){t.handleSubmit(),t.dispatch((0,vt.mc)("profileAddPost"))},className:mt,children:[(0,D.jsx)(H.Z,{validate:[jt.C1,It],name:"post",className:ft,component:W.t,tag:"textarea"}),(0,D.jsx)(_t(),{className:ht,icon:(0,D.jsx)(yt,{rev:null}),htmlType:"submit",disabled:!t.isHostUser,children:"Add post"})]})})),Nt=function(t){return(0,D.jsx)(Pt,{onSubmit:function(e){t.cbAddPost(e.post)},isHostUser:t.isHostUser})},kt=function(t){var e=t.cbAddPost,s=t.profilePage,r=t.isHostUser,a=s.postsData,n=s.status,o=s.currentProfile;return(0,D.jsx)("div",{children:(0,D.jsxs)("div",{className:m.profile,children:[(0,D.jsx)(T,{isHostUser:r,currentProfile:o,profileStatus:n}),(0,D.jsx)(Nt,{cbAddPost:e,userName:o.fullName,isHostUser:r}),(0,D.jsx)(dt,{smallPhoto:s.currentProfile.photos.small,postsData:r?a:[],userName:r?o.fullName:""})]})})},Mt=s(9723),wt=function(t){(0,u.Z)(s,t);var e=(0,p.Z)(s);function s(){return(0,l.Z)(this,s),e.apply(this,arguments)}return(0,c.Z)(s,[{key:"getUserData",value:function(){var t,e=this.props.match.params.userId,s=null===(t=this.props.authData)||void 0===t?void 0:t.id,r=e||s;if(!r)return(0,D.jsx)(Mt.l_,{to:"/login"});this.props.getUserProfile(r.toString()),this.props.getProfileStatus(r.toString())}},{key:"componentDidMount",value:function(){this.getUserData()}},{key:"componentDidUpdate",value:function(t,e,s){t.match.params.userId!==this.props.match.params.userId&&this.getUserData()}},{key:"render",value:function(){var t,e=this.props.authData.id===(null===(t=this.props.profilePage.currentProfile)||void 0===t?void 0:t.userId);return(0,D.jsx)(kt,(0,i.Z)({isHostUser:e},this.props))}}]),s}(d.Component),Dt=s(147),Ot=s(2789),St=function(t){return t.profilePage},Zt=function(t){return t.auth.data},Et={cbAddPost:n.hi,getUserProfile:n.d$,getProfileStatus:n.bs},Ft=(0,Ot.qC)((0,o.$j)((function(t){return{profilePage:St(t),authData:Zt(t)}}),Et),Mt.EN,Dt.e)(wt)}}]);
//# sourceMappingURL=229.1daf31b9.chunk.js.map